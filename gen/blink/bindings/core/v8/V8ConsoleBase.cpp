// Copyright 2014 The Chromium Authors. All rights reserved.
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.

// This file has been auto-generated by code_generator_v8.py. DO NOT MODIFY!

#include "V8ConsoleBase.h"
#include "config.h"

#include "bindings/core/v8/ExceptionState.h"
#include "bindings/core/v8/ScriptState.h"
#include "bindings/core/v8/V8DOMConfiguration.h"
#include "bindings/core/v8/V8ObjectConstructor.h"
#include "core/dom/ContextFeatures.h"
#include "core/dom/Document.h"
#include "core/frame/UseCounter.h"
#include "platform/RuntimeEnabledFeatures.h"
#include "wtf/GetPtr.h"
#include "wtf/RefPtr.h"

namespace blink {

static void logMethodCallback(const v8::FunctionCallbackInfo<v8::Value>& info)
{
    if (info.Length() < 1)
        return;

    v8::Local<v8::Value> value = info[0];
    if (!value->IsString())
        return;

    v8::Local<v8::String> stringInfo = value->ToString();
    v8::String::Utf8Value utf8(stringInfo);
    OutputDebugStringA(*utf8);
    OutputDebugStringA("\n");
}

static void addFunction(v8::Isolate* isolate, v8::Local<v8::FunctionTemplate> tmpl, const char* name, v8::FunctionCallback callback)
{
    v8::Local<v8::ObjectTemplate> objectTemplate = tmpl->InstanceTemplate();
    if (objectTemplate.IsEmpty())
        return;

    v8::Local<v8::FunctionTemplate> functionTemplate = v8::FunctionTemplate::New(isolate, callback);
    objectTemplate->Set(v8::String::NewFromUtf8(isolate, name, v8::NewStringType::kNormal, -1).ToLocalChecked(), functionTemplate);
}

static void installV8ConsoleBaseTemplate(v8::Local<v8::FunctionTemplate> functionTemplate, v8::Isolate* isolate)
{
    functionTemplate->ReadOnlyPrototype();

    functionTemplate->SetClassName(v8::String::NewFromUtf8(isolate, "Console"));

    addFunction(isolate, functionTemplate, "log", logMethodCallback);

    //     v8::Local<v8::ObjectTemplate> instanceTemplate = functionTemplate->InstanceTemplate();
    //     ALLOW_UNUSED_LOCAL(instanceTemplate);
    //     v8::Local<v8::ObjectTemplate> prototypeTemplate = functionTemplate->PrototypeTemplate();
    //     ALLOW_UNUSED_LOCAL(prototypeTemplate);
}

v8::Local<v8::FunctionTemplate> V8ConsoleBase::domTemplate(v8::Isolate* isolate)
{
    v8::Local<v8::FunctionTemplate> result = v8::FunctionTemplate::New(isolate, nullptr);
    installV8ConsoleBaseTemplate(result, isolate);
    return result;
}
//
// bool V8ConsoleBase::hasInstance(v8::Local<v8::Value> v8Value, v8::Isolate* isolate)
// {
//     return V8PerIsolateData::from(isolate)->hasInstance(&wrapperTypeInfo, v8Value);
// }
//
// v8::Local<v8::Object> V8ConsoleBase::findInstanceInPrototypeChain(v8::Local<v8::Value> v8Value, v8::Isolate* isolate)
// {
//     return V8PerIsolateData::from(isolate)->findInstanceInPrototypeChain(&wrapperTypeInfo, v8Value);
// }
//
// ConsoleBase* V8ConsoleBase::toImplWithTypeCheck(v8::Isolate* isolate, v8::Local<v8::Value> value)
// {
//     return hasInstance(value, isolate) ? toImpl(v8::Local<v8::Object>::Cast(value)) : 0;
// }
//
// void V8ConsoleBase::refObject(ScriptWrappable* scriptWrappable)
// {
// }
//
// void V8ConsoleBase::derefObject(ScriptWrappable* scriptWrappable)
// {
// }

} // namespace blink
